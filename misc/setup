#!/bin/bash
set -e

[ ! -n "$HOME" ] && exit 1;

ln -sf ~/.zsh.d/zlogin ~/.zlogin
ln -sf ~/.zsh.d/zlogout ~/.zlogout

cat <<'EOF' > $HOME/.zshenv
source ~/.zsh.d/zshenv
EOF

cat <<'EOF' > $HOME/.zshrc
source ~/.zsh.d/zshrc
source ~/.zsh.d/functions.zsh
if exists peco; then
    source ~/.zsh.d/peco.zsh
fi
source ~/.zsh.d/aliases.zsh
source ~/.zsh.d/theme.zsh
source ~/.zsh.d/packages.zsh
if exists direnv; then
    eval "$(direnv hook zsh)"
fi
EOF

ls -hal ~/.zsh{.d,env,rc} ~/.zlog{in,out}

cat <<'EOF'

,--.                       
,-|  | ,---. ,--,--,  ,---.  
' .-. || .-. ||      \| .-. : 
\ `-' |' '-' '|  ||  |\   --. 
`---'  `---' `--''--' `----' 

EOF
